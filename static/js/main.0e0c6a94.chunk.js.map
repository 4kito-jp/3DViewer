{"version":3,"sources":["Viewer.js","BottomNav.js","TopNav.js","TategakiCard.js","App.js","Manipulator.js","serviceWorker.js","index.js"],"names":["Viewer","props","emitter","addListener","camera","position","set","lookAt","counter","mode","rendering","myWidth","window","innerWidth","myHeight","innerHeight","renderer","THREE","antialias","setPixelRatio","devicePixelRatio","setSize","gammaInput","gammaOutput","gammaFactor","controls","OrbitControls","domElement","rotateSpeed","API","lightProbeIntensity","directionalLightIntensity","diffuse","emissiveIntensity","envMapIntensity","specular","reflectivity","shininess","scene","draw","render","x","Math","cos","z","sin","y","requestAnimationFrame","this","minDistance","maxDistance","enablePan","autoRotate","lightProbe","add","dirLight","directionalLight","push","i","length","prefix","postfix","urls","process","load","cubeTexture","encoding","copy","LightProbeGenerator","fromCubeTexture","STLLoader","geometry","material","color","emissive","envMap","mesh","scale","mount","appendChild","ref","Component","BottomNav","state","active","handleNext","bind","handleBack","setState","emit","console","log","MobileStepper","variant","steps","activeStep","nextButton","Button","onClick","disabled","backButton","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","spacing","title","TopNav","classes","className","AppBar","Toolbar","Typography","TategakiCard","App","EventEmitter","style","Boolean","location","hostname","match","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.0e0c6a94.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport * as THREE from \"three\";\r\nimport { OrbitControls } from 'three/examples/jsm/controls/OrbitControls.js';\r\nimport { LightProbeGenerator } from 'three/examples/jsm/lights/LightProbeGenerator.js';\r\nimport { STLLoader } from 'three/examples/jsm/loaders/STLLoader.js';\r\n\r\nclass Viewer extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.emitter = this.props.emitter\r\n    this.emitter.addListener(\r\n      'what_is_kaendoki', () => {\r\n        this.camera.position.set(10, -9, 10);\r\n        this.camera.lookAt(0, 0, 0);\r\n        this.counter = 0.0;\r\n        this.mode = \"what_is_kaendoki\"\r\n        this.rendering();\r\n      }\r\n    )\r\n\r\n    this.emitter.addListener(\r\n      'feature_of_kaendoki', () => {\r\n        this.camera.position.set(9, 1, 11);\r\n        this.camera.lookAt(0, 0, 0);\r\n        this.counter = 0.0;\r\n        this.mode = \"feature_of_kaendoki\"\r\n        this.rendering();\r\n      }\r\n    )\r\n\r\n    this.emitter.addListener(\r\n      'default', () => {\r\n        this.camera.position.set(0, 0, 25);\r\n        this.camera.lookAt(0, 0, 0);\r\n        this.counter = 0.0;\r\n        this.mode = \"default\"\r\n        this.rendering();\r\n      }\r\n    )\r\n\r\n    let myWidth = window.innerWidth, myHeight = window.innerHeight - 60 * 2;\r\n\r\n\r\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\r\n    this.renderer.setPixelRatio( window.devicePixelRatio );\r\n    this.renderer.setSize( myWidth, myHeight );\r\n    this.renderer.gammaInput = true;\r\n    this.renderer.gammaOutput = true;\r\n    this.renderer.gammaFactor = 2.2;\r\n\r\n    this.camera = new THREE.PerspectiveCamera(40, myWidth / myHeight, 1, 1000);\r\n    this.camera.position.set(0, 0, 25);\r\n\r\n    this.controls = new OrbitControls(this.camera, this.renderer.domElement);\r\n\r\n    this.counter = 0.0;\r\n\r\n    this.rotateSpeed = 0.0002;\r\n\r\n    this.mode = \"default\";\r\n  }\r\n\r\n  componentDidMount() {\r\n\r\n    let API = {\r\n      lightProbeIntensity: 1.0,\r\n      directionalLightIntensity: 1.0,\r\n      diffuse: 0x2f1105,\r\n      emissiveIntensity: 0.0,\r\n      envMapIntensity: 16/100,\r\n      specular : 0x311607,\r\n      reflectivity: 16/100,\r\n      shininess: 35,\r\n    };\r\n\r\n\r\n    let scene = new THREE.Scene();\r\n\r\n    let draw = () => {\r\n      this.renderer.render(scene, this.camera);\r\n\r\n      if (this.mode == \"default\") {\r\n\r\n      }\r\n      else if (this.mode == \"what_is_kaendoki\") {\r\n        this.camera.position.x = 10 * Math.cos(this.counter);\r\n        this.camera.position.z = 10 * Math.sin(this.counter);\r\n        this.camera.lookAt(0, 0, 0);\r\n        this.counter += this.rotateSpeed;\r\n      }\r\n      else if (this.mode == \"feature_of_kaendoki\") {\r\n        this.camera.position.x = 10 * Math.cos(this.counter);\r\n        this.camera.position.y = 10 * Math.sin(this.counter);\r\n        this.camera.lookAt(0, 0, 0);\r\n        this.counter += this.rotateSpeed;\r\n      }\r\n      requestAnimationFrame(draw);\r\n    }\r\n\r\n    this.rendering = draw;\r\n\r\n    this.controls.minDistance = 10;\r\n    this.controls.maxDistance = 50;\r\n    this.controls.enablePan = false;\r\n    this.controls.autoRotate = true;\r\n\r\n    // probe\r\n    let lightProbe = new THREE.LightProbe();\r\n    scene.add( lightProbe );\r\n\r\n    // light\r\n    let directionalLight = [];\r\n    let dirLight;\r\n    dirLight = new THREE.DirectionalLight( 0xffffff, API.directionalLightIntensity );\r\n    dirLight.position.set( -10, 10, 10 );\r\n    directionalLight.push(dirLight);\r\n\r\n    dirLight = new THREE.DirectionalLight( 0xffffff, API.directionalLightIntensity );\r\n    dirLight.position.set(  10, 10, -10 );\r\n    directionalLight.push(dirLight);\r\n\r\n    for (var i = 0; i < directionalLight.length; i++) {\r\n      scene.add( directionalLight[i] );\r\n    }\r\n\r\n    // envmap\r\n    var genCubeUrls = function ( prefix, postfix ) {\r\n      return [\r\n        prefix + 'posx' + postfix, prefix + 'negx' + postfix,\r\n        prefix + 'posy' + postfix, prefix + 'negy' + postfix,\r\n        prefix + 'posz' + postfix, prefix + 'negz' + postfix\r\n      ];\r\n    };\r\n\r\n    var urls = genCubeUrls(\r\n      process.env.PUBLIC_URL + '/assets/models/kaen-doki/env/', '.jpg'\r\n    );\r\n\r\n    let envMapLoaded = (cubeTexture) => {\r\n      cubeTexture.encoding = THREE.sRGBEncoding;\r\n      lightProbe.copy( LightProbeGenerator.fromCubeTexture( cubeTexture ) );\r\n\r\n      // 3Dモデルのロード\r\n      var loader = new STLLoader();\r\n      loader.load( process.env.PUBLIC_URL + '/assets/models/kaen-doki/geo/kaendoki_model.stl', function ( geometry ) {\r\n        var material = new THREE.MeshPhongMaterial({\r\n            color: API.diffuse,\r\n            emissive: API.emissive,\r\n            emissiveIntensity: API.emissiveIntensity,\r\n            envMap: cubeTexture,\r\n            reflectivity: API.envMapIntensity,\r\n            shininess : API.shininess,\r\n            specular: API.specular,\r\n        });\r\n        let mesh = new THREE.Mesh( geometry, material );\r\n        mesh.scale.set(40,40,40);\r\n        scene.add(mesh);\r\n        draw();\r\n      });\r\n    }\r\n\r\n    new THREE.CubeTextureLoader().load( urls, envMapLoaded );\r\n    this.mount.appendChild(this.renderer.domElement);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div ref={ref=> (this.mount = ref)} />\r\n    )\r\n  }}\r\n\r\nexport default Viewer\r\n","import React, { Component } from 'react'\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport MobileStepper from '@material-ui/core/MobileStepper';\r\nimport Button from '@material-ui/core/Button';\r\nimport KeyboardArrowLeft from '@material-ui/icons/KeyboardArrowLeft';\r\nimport KeyboardArrowRight from '@material-ui/icons/KeyboardArrowRight';\r\n\r\n\r\nexport class BottomNav extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.emitter = this.props.emitter\r\n\r\n    this.state = {\r\n      active: 0\r\n    }\r\n\r\n    this.handleNext = this.handleNext.bind(this);\r\n    this.handleBack = this.handleBack.bind(this);\r\n\r\n  }\r\n\r\n  handleNext() {\r\n    this.setState({\r\n      active: this.state.active + 1\r\n    })\r\n    if (this.state.active == 0) this.emitter.emit('what_is_kaendoki');\r\n    if (this.state.active == 1) this.emitter.emit('feature_of_kaendoki');\r\n\r\n  }\r\n\r\n  handleBack() {\r\n    this.setState({\r\n      active: this.state.active - 1\r\n    })\r\n    console.log(\"back=\"+this.state.active)\r\n    if (this.state.active == 1) this.emitter.emit('default');\r\n    if (this.state.active == 2) this.emitter.emit('what_is_kaendoki');\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <MobileStepper\r\n          variant=\"dots\"\r\n          steps={3}\r\n          position=\"static\"\r\n          activeStep={this.state.active}\r\n          nextButton={\r\n            <Button onClick={this.handleNext} disabled={this.state.active == 2}>\r\n              Next\r\n            </Button>\r\n          }\r\n          backButton={\r\n            <Button onClick={this.handleBack} disabled={this.state.active == 0}>\r\n              Back\r\n            </Button>\r\n          }\r\n        />\r\n      </div>\r\n//       variant=\"dots\"\r\n//       steps={3}\r\n//       position=\"static\"\r\n//       activeStep={activeStep}\r\n//       nextButton={\r\n//         <Button onClick={handleNext} disabled={activeStep === 2}>\r\n//           Next\r\n//           {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n//         </Button>\r\n//       }\r\n//       backButton={\r\n//         <Button onClick={handleBack} disabled={activeStep === 0}>\r\n//           {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n//           Back\r\n//         </Button>\r\n//       }\r\n    );\r\n  }\r\n}\r\n\r\nexport default BottomNav\r\n\r\n\r\n// export default function DotsMobileStepper() {\r\n\r\n//   const theme = useTheme();\r\n//   const [activeStep, setActiveStep] = React.useState(0);\r\n\r\n//   const handleNext = () => {\r\n//     setActiveStep(prevActiveStep => prevActiveStep + 1);\r\n//   };\r\n\r\n//   const handleBack = () => {\r\n//     setActiveStep(prevActiveStep => prevActiveStep - 1);\r\n//   };\r\n\r\n//   return (\r\n//     <MobileStepper\r\n//       variant=\"dots\"\r\n//       steps={3}\r\n//       position=\"static\"\r\n//       activeStep={activeStep}\r\n//       nextButton={\r\n//         <Button onClick={handleNext} disabled={activeStep === 2}>\r\n//           Next\r\n//           {theme.direction === 'rtl' ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n//         </Button>\r\n//       }\r\n//       backButton={\r\n//         <Button onClick={handleBack} disabled={activeStep === 0}>\r\n//           {theme.direction === 'rtl' ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n//           Back\r\n//         </Button>\r\n//       }\r\n//     />\r\n//   );\r\n// }\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Button from '@material-ui/core/Button';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\n\r\nexport default function TopNav() {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar>\r\n          {/* <IconButton edge=\"start\" className={classes.menuButton} color=\"inherit\" aria-label=\"menu\">\r\n            <MenuIcon />\r\n          </IconButton> */}\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            火焔土器\r\n          </Typography>\r\n        </Toolbar>\r\n      </AppBar>\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react'\r\n\r\nclass TategakiCard extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      mode: 'default'\r\n    }\r\n\r\n    this.emitter = this.props.emitter;\r\n    this.emitter.addListener(\r\n      'what_is_kaendoki', () => {\r\n        this.setState({\r\n          mode: 'what_is_kaendoki'\r\n        })\r\n      }\r\n    )\r\n\r\n    this.emitter.addListener(\r\n      'feature_of_kaendoki', () => {\r\n        this.setState({\r\n          mode: 'feature_of_kaendoki'\r\n        })\r\n      }\r\n    )\r\n\r\n    this.emitter.addListener(\r\n      'default', () => {\r\n        this.setState({\r\n          mode: 'default'\r\n        })\r\n      }\r\n    )\r\n  }\r\n\r\n  render() {\r\n    if (this.state.mode == 'what_is_kaendoki') {\r\n      return (\r\n        <div>\r\n          <div className=\"Tategaki\">\r\n            <p className=\"Tategaki--font__title\">１．火焔土器とは</p>\r\n            <p className=\"Tategaki--font__normal\">　「<ruby>火焔<rt>かえん</rt></ruby><ruby>土器<rt>どき</rt></ruby>」とは、1936年12月31日に<ruby>近藤<rt>こんどう</rt></ruby><ruby>篤三郎<rt>とくさぶろう</rt></ruby>氏によって現長岡市の<ruby>馬高<rt>うまたか</rt></ruby>遺跡で発見され、復元された土器のひとつに付けられた愛称。その形が燃え上がる焔に似ていたことから、この名称が生まれました。その後、火焔土器似た特徴を持つ土器が発見されるようになり、同様の土器を「火焔型土器」と呼ぶようになりました。\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    else if (this.state.mode == 'feature_of_kaendoki') {\r\n      return (\r\n        <div>\r\n          <div className=\"Tategaki\">\r\n            <p className=\"Tategaki--font__title\">２．火焔型土器の特徴</p>\r\n            <p className=\"Tategaki--font__normal\">　火焔型土器の最大の特徴は、<ruby>口縁<rt>こうえん</rt></ruby>部に付く<ruby>鶏冠状<rt>けいかんじょう</rt></ruby><ruby>把手<rt>はしゅ</rt></ruby>と<ruby>鋸歯状<rt>きょしじょう</rt></ruby>突起、そして原則として縄文を使用せず、隆線文と沈線文によって施された浮彫的な文様です。頸部と胴部上半部にはS字状隆線文および渦巻き状隆線文、胴部下半部には逆U字状隆線文が描かれています。\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n    else {\r\n      return (\r\n        <div>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nexport default TategakiCard\r\n","import React, { Component } from \"react\";\r\nimport {EventEmitter} from 'fbemitter'\r\nimport './App.css';\r\n\r\n\r\n\r\nimport Viewer from \"./Viewer\"\r\nimport BottomNav from \"./BottomNav\"\r\nimport TopNav from \"./TopNav\";\r\nimport TategakiCard from \"./TategakiCard\";\r\nimport Manipulator from \"./Manipulator\";\r\n\r\nclass App extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.emitter = new EventEmitter()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div style={{position: \"relative\"}}>\r\n        <TopNav emitter={this.emitter} />\r\n        <Viewer emitter={this.emitter} />\r\n        <BottomNav emitter={this.emitter} />\r\n        <TategakiCard emitter={this.emitter} />\r\n        {/* <Manipulator emitter={this.emitter} /> */}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React, { Component } from 'react'\r\nimport Fab from '@material-ui/core/Fab';\r\nimport CenterFocusWeakIcon from '@material-ui/icons/CenterFocusWeak';\r\n\r\nclass Manipulator extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.emitter = this.props.emitter\r\n\r\n    this.state = {\r\n\r\n    }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"manipulator\">\r\n        <Fab color=\"primary\" aria-label=\"CenterFocusWeak\">\r\n          <CenterFocusWeakIcon />\r\n        </Fab>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Manipulator","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}